<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angel Slots</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="body_main">
    <header>
        <h1>Angel Slots</h1>
        <div class="buttons">
            <button onclick = "window.location.href='/account/<%=session[:user]["id"]%>'">My account</button>
            <button id="depositBtn">Deposit Funds</button>
        </div>
    </header>

    <section class="content">
        <div class="slot-machine">
            <div class ="slot_view">
            <div class="display">
                <div class="tile"><image src="img/wild.png"></image></div>
                <div class="tile"><image src="img/cross4.png"></image></div>
                <div class="tile"><image src="img/star2.png"></image></div>
                <div class="tile"><image src="img/halo_wings.png"></image></div>
                <div class="tile"><image src="img/hjarta3.png"></image></div>
                <div class="tile"><image src="img/cross3.png"></image></div>
                <div class="tile"><image src="img/eliot.png"></image></div>
                <div class="tile"><image src="img/moln2.png"></image></div>
                <div class="tile"><image src="img/nun.png"></image></div>
                <div class="tile"><image src="img/moln.png"></image></div>
                <div class="tile"><image src="img/halo.png"></image></div>
                <div class="tile"><image src="img/cross2.png"></image></div>
                <div class="tile"><image src="img/cross.png"></image></div>
                <div class="tile"><image src="img/wings.jpg"></image></div>
                <div class="tile"><image src="img/wild.png"></image></div>
            </div>

            <div class="display">

                <div class="tile"><image src="img/wild.png"></image></div>
                <div class="tile"><image src="img/cross4.png"></image></div>
                <div class="tile"><image src="img/star2.png"></image></div>
                <div class="tile"><image src="img/halo_wings.png"></image></div>
                <div class="tile"><image src="img/hjarta3.png"></image></div>
                <div class="tile"><image src="img/cross3.png"></image></div>
                <div class="tile"><image src="img/eliot.png"></image></div>
                <div class="tile"><image src="img/moln2.png"></image></div>
                <div class="tile"><image src="img/nun.png"></image></div>
                <div class="tile"><image src="img/moln.png"></image></div>
                <div class="tile"><image src="img/halo.png"></image></div>
                <div class="tile"><image src="img/cross2.png"></image></div>
                <div class="tile"><image src="img/cross.png"></image></div>
                <div class="tile"><image src="img/wings.jpg"></image></div>
                <div class="tile"><image src="img/wild.png"></image></div>
            </div>

            <div class="display">
                <div class="tile"><image src="img/wild.png"></image></div>
                <div class="tile"><image src="img/cross4.png"></image></div>
                <div class="tile"><image src="img/star2.png"></image></div>
                <div class="tile"><image src="img/halo_wings.png"></image></div>
                <div class="tile"><image src="img/hjarta3.png"></image></div>
                <div class="tile"><image src="img/cross3.png"></image></div>
                <div class="tile"><image src="img/eliot.png"></image></div>
                <div class="tile"><image src="img/moln2.png"></image></div>
                <div class="tile"><image src="img/nun.png"></image></div>
                <div class="tile"><image src="img/moln.png"></image></div>
                <div class="tile"><image src="img/halo.png"></image></div>
                <div class="tile"><image src="img/cross2.png"></image></div>
                <div class="tile"><image src="img/cross.png"></image></div>
                <div class="tile"><image src="img/wings.jpg"></image></div>
                <div class="tile"><image src="img/wild.png"></image></div>
            </div>

            <div class="display">
                <div class="tile"><image src="img/wild.png"></image></div>
                <div class="tile"><image src="img/cross4.png"></image></div>
                <div class="tile"><image src="img/star2.png"></image></div>
                <div class="tile"><image src="img/halo_wings.png"></image></div>
                <div class="tile"><image src="img/hjarta3.png"></image></div>
                <div class="tile"><image src="img/cross3.png"></image></div>
                <div class="tile"><image src="img/eliot.png"></image></div>
                <div class="tile"><image src="img/moln2.png"></image></div>
                <div class="tile"><image src="img/nun.png"></image></div>
                <div class="tile"><image src="img/moln.png"></image></div>
                <div class="tile"><image src="img/halo.png"></image></div>
                <div class="tile"><image src="img/cross2.png"></image></div>
                <div class="tile"><image src="img/cross.png"></image></div>
                <div class="tile"><image src="img/wings.jpg"></image></div>
                <div class="tile"><image src="img/wild.png"></image></div>
            </div>

            <div class="display">
                <div class="tile"><image src="img/hjarta4.png"></image></div>
                <div class="tile"><image src="img/cross4.png"></image></div>
                <div class="tile"><image src="img/star2.png"></image></div>
                <div class="tile"><image src="img/halo_wings.png"></image></div>
                <div class="tile"><image src="img/hjarta3.png"></image></div>
                <div class="tile"><image src="img/cross3.png"></image></div>
                <div class="tile"><image src="img/eliot.png"></image></div>
                <div class="tile"><image src="img/moln2.png"></image></div>
                <div class="tile"><image src="img/nun.png"></image></div>
                <div class="tile"><image src="img/moln.png"></image></div>
                <div class="tile"><image src="img/halo.png"></image></div>
                <div class="tile"><image src="img/cross2.png"></image></div>
                <div class="tile"><image src="img/cross.png"></image></div>
                <div class="tile"><image src="img/wings.jpg"></image></div>
                <div class="tile"><image src="img/wild.png"></image></div>
                </div>
            </div>
            </div>
            <div class="controls">
                <% @stat_list = []%>
                <% @stats.each do |stat| %>
                    <% @stat_list.append(stat["chans"])%>
                <% end %>
                

                <button onclick="randomizer(<%= @stat_list %>)">Spin</button>
                <button>Max Bet</button>
                <button onclick = "window.location.href='/logout'">Logout</button>

                <% if (session[:user]["admin"]==1)%>
                <h3>Change stats</h3>
                <form action ="/change_stats" method="POST">
                    <h4>Cross</h4>
                    <span id="stat1">25% </span> 
                    <input type = "range" min ="0" max="300" value="250" class="slider" name="statcross" onInput = "updateSlider(this.value, 1)">
                    <h4>Heart</h4>
                    <span id="stat2">20% </span>
                    <input type = "range" min ="0" max="300" value="200" class="slider" name="statheart" onInput = "updateSlider(this.value, 2)">
                    <h4>Star</h4>
                    <span id="stat3">15% </span>
                    <input type = "range" min ="0" max="300" value="150" class="slider" name="statstar" onInput = "updateSlider(this.value, 3)">
                    <h4>Cloud</h4>
                    <span id="stat4">12,5% </span>
                    <input type = "range" min ="0" max="300" value="125" class="slider" name="statcloud" onInput = "updateSlider(this.value, 4)">
                    <h4>Wing</h4>
                    <span id="stat5">10% </span>
                    <input type = "range" min ="0" max="300" value="100" class="slider" name="statwing" onInput = "updateSlider(this.value, 5)">
                    <h4>Nun</h4>
                    <span id="stat6">7,5% </span>
                    <input type = "range" min ="0" max="300" value="75" class="slider" name="statnun" onInput = "updateSlider(this.value, 6)">
                    <h4>Wild</h4>
                    <span id="stat7">10% </span>
                    <button type= "submit" id="odds_knapp"> Submit </button>
                </form>
                <%end%>

            </div>
           



            <div class="info">
                <div class = "info_bla">
                    <strong>Bet:</strong>
                    <p id="bet">$0</p>
                </div>
                <div class="info_bla">
                    <strong>Win:</strong>
                    <p id="win">$0</p>
                </div>
                <div class="info_bla">
                    <strong>Balance:</strong>
                    <p id="balance"> $<%=@balance%></p>
            </div>

            <div class="jackpot">
                <%@jackpots.each do |jackpot|%>
                    <div class="jackpot">
                        <h3><%= jackpot["name"]%></h3>
                        <h3 class="jackpot_win">Win: <%= jackpot["value"]%> </h3>
                        <h3 class="jackpot_price">Price: <%= jackpot["price"]%> </h3>
                        <button class="join" onclick="window.location.href='/jackpot/<%= jackpot["id"] %>'"> Join </button>
                    </div>
                <% end %>
            </div>

        </div>
    </section>

    <div class="modal-overlay" id="modalOverlay"></div>

    <div class="modal" id="depositModal">
        <h3>Deposit Funds</h3>
        <input type="number" placeholder="Enter amount" id="depositAmount">
        <button id="confirmDeposit">Confirm</button>
        <button id="closeModal">Cancel</button>
    </div>


<script src="script.js"></script>
</body>
</html>
